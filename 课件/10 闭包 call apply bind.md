## 闭包 call apply bind

#### 1. 垃圾回收机制

js不需要手动回收变量，程序会根据语义自动释放不必要的变量。

只有局部变量会被回收，全局变量不会被回收（除非关闭当前网页），所以当我们定义了一个引用型全局变量，不再使用时，请手动讲值置为null，已释放内存。

#### 2. 闭包

一个可以访问另一个函数作用域里面变量的函数 叫做闭包。

通常建立闭包的方法：①函数里面定义另外一个函数，②内部函数使用了外部函数的参数或者变量，③内部函数能被外部或事件等持续的引用或触发。

闭包的特点：被引用的参数或者变量不会被回收。

闭包的运用：闭包的运用非常的多，不是一个例子两个例子能讲得完的，后期写代码的过程中要灵活运用。

```js
//伪代码 -- 就是说假设这里使用的变量已经定义过了
//序列号
for(var i=0;i<length;i++){
	(function(i){
        aP[i].onclick = function(){
            alert(i);
        }
	})(i);
}
```

```js
//不需要全局变量的点击事件计数
document.onclick = (function(){
    var num = 0;
    return function(){
        num ++;
        alert(num);
    };
})();
```

#### 2. call apply

函数通过call属性或者apply属性执行时，可以改变该次的this指向。

第一个参数代表this指向，call和apply的区别在于传实参的方式的不同，call从第二个实参开始对应第一个形参，第三个实参对应第二个形参，依次类推。apply第二个实参是个数组，数组里面每一位一一对应每个形参。